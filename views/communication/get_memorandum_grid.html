{{extend 'layout.html'}}
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-danger">
                <div class="box-header with-border">
                    <h3 class="box-title">Memorandum <small>Grid</small></h3>       
                    <div class="pull-right"><a href="#" id="btnRefresh" class="text-muted"><i class="fa fa-refresh"></i></a></div>              
                </div>
                <div class="box-body">
                    {{=table}}
                </div>        
                <div class="box-footer clearfix">                    
                    <button type="button" class="btn btn-primary btn-flat pull-right" onclick="onNewMemo()">Place New Memorandum</button>            
                    <!-- <button type="button" class="btn btn-primary btn-flat pull-right" data-toggle="modal" data-target="#modal-default">Place New Memorandum</button>             -->
                </div>                                   
            </div>            
        </div>        
    </div>
</section>



{{=form.custom.begin}}
<div class="modal fade" id="modal-default" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span></button>
            <h4 class="modal-title">Memorandum Form</h4>
        </div>
        <div class="modal-body">         
            <div class="form-horizontal">            
                <div class="form-group">
                    <label class="col-sm-3 control-label">Date:</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.memorandum_date}}
                    </div>                
                </div>    
                <div class="form-group">
                    <label class="col-sm-3 control-label">Memorandum No:</label>
                    <div class="col-sm-9">                        
                        <input class="form-control" name="ckey" value="{{=_ckey}}" readonly>
                    </div>                
                </div>                                
                <div class="form-group">
                    <label class="col-sm-3 control-label">Memorandum From:</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.memorandum_from}}
                    </div>                
                </div>     
                <div class="form-group">
                    <label class="col-sm-3 control-label">Memorandum To:</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.memorandum_to}}
                    </div>                
                </div>                               
                <div class="form-group">
                    <label class="col-sm-3 control-label">Memorandum Subject:</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.memorandum_subject}}
                    </div>                
                </div>                                      
                <div class="form-group">
                    <label class="col-sm-3 control-label">Atached (.pdf):</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.attached}}
                    </div>                
                </div>                
                <div class="form-group">
                    <label class="col-sm-3 control-label">Confidential:</label>
                    <div class="col-sm-9">
                        {{=form.custom.widget.confidential}}
                    </div>                
                </div>    
            </div>   
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger  pull-left btn-flat" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary btn-flat">Save Changes</button>
        </div>
        </div>
    </div>
</div>
{{=form.custom.end}}

<script>
$(document).ready(function(){
    $("#btnRefresh").click(function(){
        location.reload();
    });
    $(".table").DataTable();
});
    function onNewMemo(){
        window.location.href="{{=URL('communication','get_memorandum_form')}}"        
    }
</script>

